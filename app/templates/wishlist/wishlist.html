{% extends 'base.html' %}
{% block title %}Favoritos | Tienda Virtual{% endblock %}
{% block head %}
<style>
    .wishlist-container {
        max-width: 800px;
        margin: 40px auto;
        background: #181818;
        border-radius: 1.5rem;
        box-shadow: 0 8px 32px 0 #000a;
        padding: 2.5rem 2rem 2rem 2rem;
        border: 2px solid #fff200;
    }
    .wishlist-title {
        font-weight: 900;
        color: #fff200;
        margin-bottom: 1.5rem;
        text-align: left;
        font-size: 2.1rem;
        letter-spacing: 0.04em;
        text-shadow: 0 2px 12px #000a;
    }
    .wishlist-list {
        list-style: none;
        padding: 0;
    }
    .wishlist-item {
        background: #222;
        border-radius: 1rem;
        margin-bottom: 1.1rem;
        padding: 1.1rem 1.5rem;
        box-shadow: 0 2px 8px 0 #0008;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.08rem;
        border-left: 4px solid #fff200;
    }
    .wishlist-item a {
        color: #fff;
        font-weight: 800;
        text-decoration: none;
        letter-spacing: 0.01em;
        transition: color 0.18s;
    }
    .wishlist-item a:hover {
        color: #fff200;
        text-shadow: 0 0 8px #fff20099;
    }
    .wishlist-item .product-price {
        color: #fff200;
        font-weight: 700;
        margin-left: 0.7rem;
    }
    .btn-remove {
        border-radius: 8px;
        font-weight: 800;
        font-size: 1rem;
        padding: 0.4rem 1.1rem;
        border: 2px solid #fff200;
        background: #181818;
        color: #fff200;
        transition: background 0.18s, color 0.18s, box-shadow 0.18s;
    }
    .btn-remove:hover {
        background: #fff200;
        color: #111;
        box-shadow: 0 0 12px #fff20099;
    }
    @media (max-width: 768px) {
        .wishlist-container {
            padding: 1rem;
        }
    }
</style>
{% endblock %}
{% block content %}
<div class="wishlist-container">
    <div class="wishlist-title">Mis Favoritos</div>
    {% if items %}
    <ul class="wishlist-list mb-4">
      {% for item in items %}
      <li class="wishlist-item position-relative">
        {% if item.product.is_nuevo %}
          <span class="badge bg-info text-dark position-absolute top-0 end-0 m-2" style="font-size:0.95em;box-shadow:0 0 8px #fff;z-index:3;" title="¡Nuevo!">Nuevo</span>
        {% endif %}
        {% if item.product.is_mas_vendido %}
          <span class="badge bg-warning text-dark position-absolute top-0 start-50 translate-middle-x m-2" style="font-size:0.95em;box-shadow:0 0 8px #fff200;z-index:3;" title="Más vendido">★ Más vendido</span>
        {% endif %}
        <div>
          <a href="{{ url_for('catalog.product_detail', product_id=item.product_id) }}">{{ item.product.name }}</a>
          <span class="product-price">${{ '%.2f'|format(item.product.price) }}</span>
        </div>
        <form method="post" action="{{ url_for('wishlist.remove_from_wishlist', product_id=item.product_id) }}" class="mb-0">
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
          <button class="btn btn-danger btn-remove" title="Eliminar de favoritos">Eliminar</button>
        </form>
      </li>
      {% endfor %}
    </ul>
    {% else %}
      <div class="alert alert-info text-center">No tienes productos en tus favoritos.</div>
    {% endif %}
</div>
{% endblock %}
